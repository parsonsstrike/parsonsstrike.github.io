<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <link rel="stylesheet" href="css/style.css">
  <title>The Story of Parsons Strike</title>
</head>

<body>
  <audio id="onePlay" src="video/2. pov.mp4"></audio>
  <div class="parent-container">
    <div class="image-container">
      <div class="container timeline">
        <p class="title">Storymap</p>
        <iframe
          src="https://uploads.knightlab.com/storymapjs/bb54c39ed7e183e95e89aa5daa473656/new-school-protest/index.html"
          frameborder="0" width="100%" height="650"></iframe>
        <img src="images/arrow_right.png" class="next" alt="">
      </div>
      <div class="circle"></div>
    </div>
    <img src="phone.gif" class="bg_img">
  </div>

  <script src="js/rem.js"></script>
  <script>
    function setImageContainerSize () {
      // Select the background image element and save as constant “image” for later use
      const image = document.querySelector('.bg_img')
      // Second function wait for the image to load before getting its width and height
      image.addEventListener('load', function () {
        // Get the width and height of the image
        const imageWidth = image.clientWidth
        const imageHeight = image.clientHeight
        // Select the image container element and save for later use
        const imageContainer = document.querySelector('.image-container')
        // Set the width and height of the image container to match the image
        imageContainer.style.width = imageWidth + 'px'
        imageContainer.style.height = imageHeight + 'px'
      })

    }

    // Call the function on page load
    setImageContainerSize()

    // Call the function when the window is resized
    function reLoad () {
      location.reload()
    }
    var doit

    window.onresize = function () {
      clearTimeout(doit)
      doit = setTimeout(function () {
        setImageContainerSize()
        reLoad()
      }, 100)
    };
  </script>

  <script>
    const next = document.querySelector(".next"),
      onePlay = document.getElementById("onePlay")

    next.onclick = function () {
      onePlay.play()
      const time = onePlay.duration
      setTimeout(function () {
        window.location.href = "problem.html"
      }, time * 1000)
    }

    document.querySelector(".circle").onclick = function () {
      window.location.href = "phone.html"
    }
  </script>
</body>

</html>